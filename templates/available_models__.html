{% extends "index.html" %}

{% block content %}
    <h2>Load Model</h2>

    <h3>Upload New Model</h3>
    <form action="{{ url_for('load_model') }}" method="post" enctype="multipart/form-data">
        <label for="model_file">Upload Model:</label>
        <input type="file" name="model_file" required><br>

        <label for="catalog">Choose Catalog:</label>
        <select name="catalog">
            <option value="models">Models</option>
            <option value="alternative_models">Alternative Models</option>
            <!-- Add more options as needed -->
        </select><br>

        <input type="submit" value="Upload Model">
    </form>

    <h3>Available Models</h3>
    <table>
        <thead>
            <tr>
                <th>Model Name</th>
                <th>Uploaded On</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for model in models %}
            <tr>
                <td>{{ model.name }}</td>
                <td>{{ model.uploaded_on.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                <td>
                    <a href="{{ url_for('load_model', model_id=model.id) }}">Download</a> |
                    <a href="{{ url_for('delete_model', model_id=model.id) }}">Delete</a> |
                    <a href="{{ url_for('select_model', model_id=model.id) }}">Select</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
